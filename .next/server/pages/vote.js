"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/vote";
exports.ids = ["pages/vote"];
exports.modules = {

/***/ "./pages/vote.js":
/*!***********************!*\
  !*** ./pages/vote.js ***!
  \***********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Vote)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"next/router\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! socket.io-client */ \"socket.io-client\");\n/* harmony import */ var _utils_resolveImageUrl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/resolveImageUrl */ \"./utils/resolveImageUrl.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([socket_io_client__WEBPACK_IMPORTED_MODULE_3__]);\nsocket_io_client__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// frontend/pages/vote.js\n\n\n\n\n\nconst serverUrl = \"http://localhost:5050\";\nconst placeholderImage = \"/placeholder.svg\";\nconst buildPhotoSrc = (...values)=>{\n    for (const raw of values){\n        const resolved = (0,_utils_resolveImageUrl__WEBPACK_IMPORTED_MODULE_4__.resolveImageUrl)(raw, serverUrl);\n        if (resolved) {\n            return resolved;\n        }\n    }\n    return placeholderImage;\n};\nconst handleImgError = (event)=>{\n    event.currentTarget.onerror = null;\n    event.currentTarget.src = placeholderImage;\n};\nfunction Vote() {\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const [socket, setSocket] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [period, setPeriod] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [candidates, setCandidates] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedCandidate, setSelectedCandidate] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [timeLeft, setTimeLeft] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [votingNotStarted, setVotingNotStarted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [votingEnded, setVotingEnded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [resultsPublished, setResultsPublished] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showVoteModal, setShowVoteModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showConfirmModal, setShowConfirmModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isSubmittingVote, setIsSubmittingVote] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [alreadyVotedCandidate, setAlreadyVotedCandidate] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [message, setMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const userId =  false ? 0 : null;\n    const token =  false ? 0 : null;\n    const [authReady, setAuthReady] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (true) return;\n        const token = localStorage.getItem(\"token\");\n        if (!token) {\n            router.replace(\"/login\");\n            return;\n        }\n        setAuthReady(true);\n    }, [\n        router\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!authReady) return;\n        const newSocket = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(serverUrl);\n        setSocket(newSocket);\n        return ()=>newSocket.close();\n    }, [\n        authReady\n    ]);\n    // Listen for admin starting voting\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!authReady || !socket) return;\n        socket.on(\"votingStarted\", ()=>{\n            fetchPeriod();\n            fetchCandidates();\n        });\n        socket.on(\"votingEnded\", ()=>{\n            fetchPeriod();\n        });\n        socket.on(\"resultsPublished\", ()=>{\n            setResultsPublished(true);\n        });\n        return ()=>{\n            socket.off(\"votingStarted\");\n            socket.off(\"votingEnded\");\n            socket.off(\"resultsPublished\");\n        };\n    }, [\n        socket\n    ]);\n    const fetchPeriod = async ()=>{\n        const res = await fetch(`${serverUrl}/api/public/period`);\n        const data = await res.json();\n        setPeriod(data);\n        if (!data) return;\n        const now = new Date();\n        const start = new Date(data.startTime);\n        const end = new Date(data.endTime);\n        const toBool = (value)=>value === true || value === 1 || value === \"1\";\n        const forcedEnded = toBool(data.forcedEnded);\n        setResultsPublished(toBool(data.resultsPublished));\n        if (forcedEnded || now > end) {\n            setVotingEnded(true);\n            setVotingNotStarted(false);\n        } else if (now < start) {\n            setVotingNotStarted(true);\n            calculateTimeLeft(start);\n        } else if (now >= start && now <= end) {\n            setVotingNotStarted(false);\n            calculateTimeLeft(end);\n        }\n    };\n    const fetchCandidates = async ()=>{\n        if (!period) return;\n        const res = await fetch(`${serverUrl}/api/public/candidates?periodId=${period.id}`);\n        const data = await res.json();\n        setCandidates(data);\n    };\n    const checkUserVote = async ()=>{\n        if (!userId || !period) return;\n        const res = await fetch(`${serverUrl}/api/public/uservote?userId=${userId}&periodId=${period.id}`);\n        const voteData = await res.json();\n        if (voteData && voteData.candidateId) {\n            setSelectedCandidate(voteData.candidateId);\n            const votedFor = candidates.find((c)=>c.id === voteData.candidateId);\n            if (votedFor) setAlreadyVotedCandidate(votedFor.name);\n        }\n    };\n    const calculateTimeLeft = (target)=>{\n        const now = new Date();\n        const diff = target - now;\n        if (diff <= 0) {\n            fetchPeriod();\n            return;\n        }\n        const hours = Math.floor(diff / 3600000);\n        const minutes = Math.floor(diff % 3600000 / 60000);\n        const seconds = Math.floor(diff % 60000 / 1000);\n        setTimeLeft(`${hours}h ${minutes}m ${seconds}s`);\n        setTimeout(()=>calculateTimeLeft(target), 1000);\n    };\n    const submitVote = async ()=>{\n        if (isSubmittingVote) return;\n        setIsSubmittingVote(true);\n        setShowConfirmModal(false);\n        if (!selectedCandidate || votingNotStarted || votingEnded) return;\n        if (!token || !userId) {\n            setMessage(\"Please login first.\");\n            setIsSubmittingVote(false);\n            return;\n        }\n        if (alreadyVotedCandidate) return;\n        const res = await fetch(`${serverUrl}/api/vote`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + token\n            },\n            body: JSON.stringify({\n                userId: parseInt(userId, 10),\n                candidateId: selectedCandidate\n            })\n        });\n        if (res.ok) {\n            setMessage(\"\");\n            setShowVoteModal(true);\n            const votedFor = candidates.find((c)=>c.id === selectedCandidate);\n            if (votedFor) setAlreadyVotedCandidate(votedFor.name);\n        } else {\n            const data = await res.json().catch(()=>({}));\n            setMessage(data.error || \"Unable to submit vote. Please try again.\");\n        }\n        setIsSubmittingVote(false);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!authReady) return;\n        fetchPeriod();\n    // We'll fetch candidates after we know the period\n    }, [\n        authReady\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (authReady && period) {\n            fetchCandidates();\n        }\n    }, [\n        period,\n        authReady\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (authReady && candidates.length > 0 && period) {\n            checkUserVote();\n        }\n    }, [\n        candidates,\n        period,\n        authReady\n    ]);\n    if (!authReady) {\n        return null;\n    }\n    if (!period) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"mx-auto max-w-xl\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"glass-card px-8 py-12 text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-2xl font-semibold text-slate-900\",\n                        children: \"No Voting Currently\"\n                    }, void 0, false, {\n                        fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                        lineNumber: 193,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-4 text-slate-600\",\n                        children: \"There is no active voting session at the moment. Please check back later for the next election window.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                        lineNumber: 194,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                lineNumber: 192,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n            lineNumber: 191,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-10\",\n        children: [\n            message && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"glass-card mx-auto max-w-3xl px-6 py-4 text-center text-sm font-semibold text-red-600\",\n                children: message\n            }, void 0, false, {\n                fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                lineNumber: 205,\n                columnNumber: 9\n            }, this),\n            votingNotStarted && !votingEnded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"glass-card mx-auto max-w-3xl px-8 py-10 text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-2xl font-bold text-slate-900\",\n                        children: \"Voting has not started yet\"\n                    }, void 0, false, {\n                        fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                        lineNumber: 212,\n                        columnNumber: 11\n                    }, this),\n                    timeLeft && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-4 text-lg text-blue-600\",\n                        children: [\n                            \"Starts in: \",\n                            timeLeft\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                        lineNumber: 213,\n                        columnNumber: 24\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-6 text-slate-600\",\n                        children: \"The voting booth will open automatically when the countdown ends. Stay close so you do not miss your chance.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                        lineNumber: 214,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                lineNumber: 211,\n                columnNumber: 9\n            }, this),\n            !votingNotStarted && !votingEnded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-8\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"glass-card mx-auto max-w-4xl px-8 py-10 text-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                className: \"text-3xl font-bold text-slate-900\",\n                                children: \"Vote for Your Candidate\"\n                            }, void 0, false, {\n                                fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                                lineNumber: 223,\n                                columnNumber: 13\n                            }, this),\n                            timeLeft && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-3 text-sm font-medium text-blue-600 uppercase tracking-[0.3em]\",\n                                children: [\n                                    \"Voting ends in \",\n                                    timeLeft\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                                lineNumber: 224,\n                                columnNumber: 26\n                            }, this),\n                            alreadyVotedCandidate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-4 text-sm font-semibold text-emerald-600\",\n                                children: [\n                                    \"You have already voted for \",\n                                    alreadyVotedCandidate,\n                                    \".\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                                lineNumber: 226,\n                                columnNumber: 15\n                            }, this),\n                            !alreadyVotedCandidate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"mt-4 text-slate-600\",\n                                children: \"Select a candidate below and submit your choice. You can only vote once per election period.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                                lineNumber: 231,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                        lineNumber: 222,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mx-auto grid w-full max-w-5xl gap-6 sm:grid-cols-2 lg:grid-cols-3\",\n                        children: [\n                            candidates.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"glass-card col-span-full px-6 py-8 text-center text-slate-600\",\n                                children: \"No candidates available at the moment.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                                lineNumber: 239,\n                                columnNumber: 15\n                            }, this),\n                            candidates.map((candidate)=>{\n                                const isSelected = selectedCandidate === candidate.id;\n                                const isDisabled = alreadyVotedCandidate && !isSelected;\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    type: \"button\",\n                                    onClick: ()=>{\n                                        if (!alreadyVotedCandidate) setSelectedCandidate(candidate.id);\n                                    },\n                                    disabled: isDisabled,\n                                    className: `glass-card flex flex-col items-center gap-4 px-6 py-8 text-center transition ${isSelected ? \"border-blue-400 ring-2 ring-blue-200\" : \"hover:border-blue-200\"} ${isDisabled ? \"opacity-60\" : \"\"}`,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                            src: buildPhotoSrc(candidate.photoSrc, candidate.photoUrl),\n                                            onError: handleImgError,\n                                            alt: candidate.name,\n                                            className: \"h-24 w-24 rounded-full border border-slate-200 object-cover shadow-sm\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                                            lineNumber: 258,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                    className: \"text-lg font-semibold text-slate-900\",\n                                                    children: candidate.name\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                                                    lineNumber: 265,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"mt-1 text-sm text-slate-500\",\n                                                    children: candidate.lga\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                                                    lineNumber: 266,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                                            lineNumber: 264,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, candidate.id, true, {\n                                    fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                                    lineNumber: 247,\n                                    columnNumber: 17\n                                }, this);\n                            })\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                        lineNumber: 237,\n                        columnNumber: 11\n                    }, this),\n                    !alreadyVotedCandidate && selectedCandidate && candidates.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mx-auto flex w-full max-w-3xl justify-center\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>setShowConfirmModal(true),\n                            className: \"flex w-full items-center justify-center gap-3 rounded-full bg-blue-600 px-6 py-3 text-sm font-semibold text-white shadow-sm transition hover:bg-blue-500 sm:w-auto\",\n                            children: \"Submit Vote\"\n                        }, void 0, false, {\n                            fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                            lineNumber: 275,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                        lineNumber: 274,\n                        columnNumber: 13\n                    }, this),\n                    alreadyVotedCandidate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"glass-card mx-auto max-w-3xl px-6 py-5 text-center text-sm text-emerald-600\",\n                        children: \"Thank you! Your vote has already been recorded.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                        lineNumber: 285,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                lineNumber: 221,\n                columnNumber: 9\n            }, this),\n            votingEnded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"glass-card mx-auto max-w-3xl px-8 py-10 text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-2xl font-bold text-slate-900\",\n                        children: \"Voting has ended\"\n                    }, void 0, false, {\n                        fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                        lineNumber: 294,\n                        columnNumber: 11\n                    }, this),\n                    !resultsPublished && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-4 text-slate-600\",\n                        children: \"Results will be published shortly. Stay tuned.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                        lineNumber: 296,\n                        columnNumber: 13\n                    }, this),\n                    resultsPublished && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-6 flex flex-wrap items-center justify-center gap-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                href: \"/results\",\n                                className: \"rounded-full bg-blue-600 px-6 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-blue-500\",\n                                children: \"View Current Results\"\n                            }, void 0, false, {\n                                fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                                lineNumber: 300,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                href: \"/past-results\",\n                                className: \"rounded-full border border-slate-200 px-6 py-2 text-sm font-semibold text-slate-600 transition hover:border-blue-400 hover:text-blue-600\",\n                                children: \"View Past Results\"\n                            }, void 0, false, {\n                                fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                                lineNumber: 306,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                        lineNumber: 299,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                lineNumber: 293,\n                columnNumber: 9\n            }, this),\n            showVoteModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"glass-card w-full max-w-sm px-6 py-8 text-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-xl font-semibold text-slate-900\",\n                            children: \"Vote Submitted\"\n                        }, void 0, false, {\n                            fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                            lineNumber: 320,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"mt-3 text-sm text-slate-600\",\n                            children: \"Your vote has been recorded successfully!\"\n                        }, void 0, false, {\n                            fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                            lineNumber: 321,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>setShowVoteModal(false),\n                            className: \"mt-6 inline-flex rounded-full bg-blue-600 px-5 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-blue-500\",\n                            children: \"OK\"\n                        }, void 0, false, {\n                            fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                            lineNumber: 322,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                    lineNumber: 319,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                lineNumber: 318,\n                columnNumber: 9\n            }, this),\n            showConfirmModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"glass-card w-full max-w-sm px-6 py-8 text-center space-y-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-xl font-semibold text-slate-900\",\n                            children: \"Confirm Your Vote\"\n                        }, void 0, false, {\n                            fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                            lineNumber: 335,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-sm text-slate-600\",\n                            children: [\n                                \"Are you sure you want to submit your vote for \",\n                                candidates.find((c)=>c.id === selectedCandidate)?.name || \"this candidate\",\n                                \"?\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                            lineNumber: 336,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex flex-col gap-3 sm:flex-row sm:justify-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setShowConfirmModal(false),\n                                    className: \"w-full rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:border-blue-400 hover:text-blue-600 sm:w-32\",\n                                    children: \"Cancel\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                                    lineNumber: 342,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: submitVote,\n                                    disabled: isSubmittingVote,\n                                    className: \"w-full rounded-full bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-blue-500 disabled:cursor-not-allowed disabled:bg-blue-400 sm:w-32\",\n                                    children: isSubmittingVote ? \"Submitting...\" : \"Yes, Submit\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                                    lineNumber: 348,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                            lineNumber: 341,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                    lineNumber: 334,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n                lineNumber: 333,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/sanmi/Documents/Tech Learn/WebProjects/EVote/pages/vote.js\",\n        lineNumber: 203,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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PzViN2QiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZnJvbnRlbmQvcGFnZXMvdm90ZS5qc1xuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSBcIm5leHQvcm91dGVyXCI7XG5pbXBvcnQgaW8gZnJvbSBcInNvY2tldC5pby1jbGllbnRcIjtcbmltcG9ydCB7IHJlc29sdmVJbWFnZVVybCB9IGZyb20gXCIuLi91dGlscy9yZXNvbHZlSW1hZ2VVcmxcIjtcblxuY29uc3Qgc2VydmVyVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTDtcbmNvbnN0IHBsYWNlaG9sZGVySW1hZ2UgPSBcIi9wbGFjZWhvbGRlci5zdmdcIjtcbmNvbnN0IGJ1aWxkUGhvdG9TcmMgPSAoLi4udmFsdWVzKSA9PiB7XG4gIGZvciAoY29uc3QgcmF3IG9mIHZhbHVlcykge1xuICAgIGNvbnN0IHJlc29sdmVkID0gcmVzb2x2ZUltYWdlVXJsKHJhdywgc2VydmVyVXJsKTtcbiAgICBpZiAocmVzb2x2ZWQpIHtcbiAgICAgIHJldHVybiByZXNvbHZlZDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBsYWNlaG9sZGVySW1hZ2U7XG59O1xuY29uc3QgaGFuZGxlSW1nRXJyb3IgPSAoZXZlbnQpID0+IHtcbiAgZXZlbnQuY3VycmVudFRhcmdldC5vbmVycm9yID0gbnVsbDtcbiAgZXZlbnQuY3VycmVudFRhcmdldC5zcmMgPSBwbGFjZWhvbGRlckltYWdlO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVm90ZSgpIHtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IFtzb2NrZXQsIHNldFNvY2tldF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW3BlcmlvZCwgc2V0UGVyaW9kXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbY2FuZGlkYXRlcywgc2V0Q2FuZGlkYXRlc10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtzZWxlY3RlZENhbmRpZGF0ZSwgc2V0U2VsZWN0ZWRDYW5kaWRhdGVdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFt0aW1lTGVmdCwgc2V0VGltZUxlZnRdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFt2b3RpbmdOb3RTdGFydGVkLCBzZXRWb3RpbmdOb3RTdGFydGVkXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbdm90aW5nRW5kZWQsIHNldFZvdGluZ0VuZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Jlc3VsdHNQdWJsaXNoZWQsIHNldFJlc3VsdHNQdWJsaXNoZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd1ZvdGVNb2RhbCwgc2V0U2hvd1ZvdGVNb2RhbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93Q29uZmlybU1vZGFsLCBzZXRTaG93Q29uZmlybU1vZGFsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzU3VibWl0dGluZ1ZvdGUsIHNldElzU3VibWl0dGluZ1ZvdGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWxyZWFkeVZvdGVkQ2FuZGlkYXRlLCBzZXRBbHJlYWR5Vm90ZWRDYW5kaWRhdGVdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFttZXNzYWdlLCBzZXRNZXNzYWdlXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCB1c2VySWQgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ1c2VySWRcIikgOiBudWxsO1xuICBjb25zdCB0b2tlbiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRva2VuXCIpIDogbnVsbDtcbiAgY29uc3QgW2F1dGhSZWFkeSwgc2V0QXV0aFJlYWR5XSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm47XG4gICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRva2VuXCIpO1xuICAgIGlmICghdG9rZW4pIHtcbiAgICAgIHJvdXRlci5yZXBsYWNlKFwiL2xvZ2luXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRBdXRoUmVhZHkodHJ1ZSk7XG4gIH0sIFtyb3V0ZXJdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghYXV0aFJlYWR5KSByZXR1cm47XG4gICAgY29uc3QgbmV3U29ja2V0ID0gaW8oc2VydmVyVXJsKTtcbiAgICBzZXRTb2NrZXQobmV3U29ja2V0KTtcbiAgICByZXR1cm4gKCkgPT4gbmV3U29ja2V0LmNsb3NlKCk7XG4gIH0sIFthdXRoUmVhZHldKTtcblxuICAvLyBMaXN0ZW4gZm9yIGFkbWluIHN0YXJ0aW5nIHZvdGluZ1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghYXV0aFJlYWR5IHx8ICFzb2NrZXQpIHJldHVybjtcbiAgICBzb2NrZXQub24oXCJ2b3RpbmdTdGFydGVkXCIsICgpID0+IHtcbiAgICAgIGZldGNoUGVyaW9kKCk7XG4gICAgICBmZXRjaENhbmRpZGF0ZXMoKTtcbiAgICB9KTtcbiAgICBzb2NrZXQub24oXCJ2b3RpbmdFbmRlZFwiLCAoKSA9PiB7XG4gICAgICBmZXRjaFBlcmlvZCgpO1xuICAgIH0pO1xuICAgIHNvY2tldC5vbihcInJlc3VsdHNQdWJsaXNoZWRcIiwgKCkgPT4ge1xuICAgICAgc2V0UmVzdWx0c1B1Ymxpc2hlZCh0cnVlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgc29ja2V0Lm9mZihcInZvdGluZ1N0YXJ0ZWRcIik7XG4gICAgICBzb2NrZXQub2ZmKFwidm90aW5nRW5kZWRcIik7XG4gICAgICBzb2NrZXQub2ZmKFwicmVzdWx0c1B1Ymxpc2hlZFwiKTtcbiAgICB9O1xuICB9LCBbc29ja2V0XSk7XG5cbiAgY29uc3QgZmV0Y2hQZXJpb2QgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7c2VydmVyVXJsfS9hcGkvcHVibGljL3BlcmlvZGApO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgIHNldFBlcmlvZChkYXRhKTtcbiAgICBpZiAoIWRhdGEpIHJldHVybjtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoZGF0YS5zdGFydFRpbWUpO1xuICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKGRhdGEuZW5kVGltZSk7XG4gICAgY29uc3QgdG9Cb29sID0gKHZhbHVlKSA9PiB2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gMSB8fCB2YWx1ZSA9PT0gXCIxXCI7XG4gICAgY29uc3QgZm9yY2VkRW5kZWQgPSB0b0Jvb2woZGF0YS5mb3JjZWRFbmRlZCk7XG4gICAgc2V0UmVzdWx0c1B1Ymxpc2hlZCh0b0Jvb2woZGF0YS5yZXN1bHRzUHVibGlzaGVkKSk7XG4gICAgaWYgKGZvcmNlZEVuZGVkIHx8IG5vdyA+IGVuZCkge1xuICAgICAgc2V0Vm90aW5nRW5kZWQodHJ1ZSk7XG4gICAgICBzZXRWb3RpbmdOb3RTdGFydGVkKGZhbHNlKTtcbiAgICB9IGVsc2UgaWYgKG5vdyA8IHN0YXJ0KSB7XG4gICAgICBzZXRWb3RpbmdOb3RTdGFydGVkKHRydWUpO1xuICAgICAgY2FsY3VsYXRlVGltZUxlZnQoc3RhcnQpO1xuICAgIH0gZWxzZSBpZiAobm93ID49IHN0YXJ0ICYmIG5vdyA8PSBlbmQpIHtcbiAgICAgIHNldFZvdGluZ05vdFN0YXJ0ZWQoZmFsc2UpO1xuICAgICAgY2FsY3VsYXRlVGltZUxlZnQoZW5kKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZmV0Y2hDYW5kaWRhdGVzID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghcGVyaW9kKSByZXR1cm47XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7c2VydmVyVXJsfS9hcGkvcHVibGljL2NhbmRpZGF0ZXM/cGVyaW9kSWQ9JHtwZXJpb2QuaWR9YCk7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgc2V0Q2FuZGlkYXRlcyhkYXRhKTtcbiAgfTtcblxuICBjb25zdCBjaGVja1VzZXJWb3RlID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghdXNlcklkIHx8ICFwZXJpb2QpIHJldHVybjtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcbiAgICAgIGAke3NlcnZlclVybH0vYXBpL3B1YmxpYy91c2Vydm90ZT91c2VySWQ9JHt1c2VySWR9JnBlcmlvZElkPSR7cGVyaW9kLmlkfWBcbiAgICApO1xuICAgIGNvbnN0IHZvdGVEYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICBpZiAodm90ZURhdGEgJiYgdm90ZURhdGEuY2FuZGlkYXRlSWQpIHtcbiAgICAgIHNldFNlbGVjdGVkQ2FuZGlkYXRlKHZvdGVEYXRhLmNhbmRpZGF0ZUlkKTtcbiAgICAgIGNvbnN0IHZvdGVkRm9yID0gY2FuZGlkYXRlcy5maW5kKChjKSA9PiBjLmlkID09PSB2b3RlRGF0YS5jYW5kaWRhdGVJZCk7XG4gICAgICBpZiAodm90ZWRGb3IpIHNldEFscmVhZHlWb3RlZENhbmRpZGF0ZSh2b3RlZEZvci5uYW1lKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgY2FsY3VsYXRlVGltZUxlZnQgPSAodGFyZ2V0KSA9PiB7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBkaWZmID0gdGFyZ2V0IC0gbm93O1xuICAgIGlmIChkaWZmIDw9IDApIHtcbiAgICAgIGZldGNoUGVyaW9kKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGhvdXJzID0gTWF0aC5mbG9vcihkaWZmIC8gMzYwMDAwMCk7XG4gICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IoKGRpZmYgJSAzNjAwMDAwKSAvIDYwMDAwKTtcbiAgICBjb25zdCBzZWNvbmRzID0gTWF0aC5mbG9vcigoZGlmZiAlIDYwMDAwKSAvIDEwMDApO1xuICAgIHNldFRpbWVMZWZ0KGAke2hvdXJzfWggJHttaW51dGVzfW0gJHtzZWNvbmRzfXNgKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IGNhbGN1bGF0ZVRpbWVMZWZ0KHRhcmdldCksIDEwMDApO1xuICB9O1xuXG4gIGNvbnN0IHN1Ym1pdFZvdGUgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKGlzU3VibWl0dGluZ1ZvdGUpIHJldHVybjtcbiAgICBzZXRJc1N1Ym1pdHRpbmdWb3RlKHRydWUpO1xuICAgIHNldFNob3dDb25maXJtTW9kYWwoZmFsc2UpO1xuICAgIGlmICghc2VsZWN0ZWRDYW5kaWRhdGUgfHwgdm90aW5nTm90U3RhcnRlZCB8fCB2b3RpbmdFbmRlZCkgcmV0dXJuO1xuICAgIGlmICghdG9rZW4gfHwgIXVzZXJJZCkge1xuICAgICAgc2V0TWVzc2FnZShcIlBsZWFzZSBsb2dpbiBmaXJzdC5cIik7XG4gICAgICBzZXRJc1N1Ym1pdHRpbmdWb3RlKGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGFscmVhZHlWb3RlZENhbmRpZGF0ZSkgcmV0dXJuO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke3NlcnZlclVybH0vYXBpL3ZvdGVgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgQXV0aG9yaXphdGlvbjogXCJCZWFyZXIgXCIgKyB0b2tlbixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHVzZXJJZDogcGFyc2VJbnQodXNlcklkLCAxMCksIGNhbmRpZGF0ZUlkOiBzZWxlY3RlZENhbmRpZGF0ZSB9KSxcbiAgICB9KTtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICBzZXRNZXNzYWdlKFwiXCIpO1xuICAgICAgc2V0U2hvd1ZvdGVNb2RhbCh0cnVlKTtcbiAgICAgIGNvbnN0IHZvdGVkRm9yID0gY2FuZGlkYXRlcy5maW5kKChjKSA9PiBjLmlkID09PSBzZWxlY3RlZENhbmRpZGF0ZSk7XG4gICAgICBpZiAodm90ZWRGb3IpIHNldEFscmVhZHlWb3RlZENhbmRpZGF0ZSh2b3RlZEZvci5uYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICBzZXRNZXNzYWdlKGRhdGEuZXJyb3IgfHwgXCJVbmFibGUgdG8gc3VibWl0IHZvdGUuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgIH1cbiAgICBzZXRJc1N1Ym1pdHRpbmdWb3RlKGZhbHNlKTtcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghYXV0aFJlYWR5KSByZXR1cm47XG4gICAgZmV0Y2hQZXJpb2QoKTtcbiAgICAvLyBXZSdsbCBmZXRjaCBjYW5kaWRhdGVzIGFmdGVyIHdlIGtub3cgdGhlIHBlcmlvZFxuICB9LCBbYXV0aFJlYWR5XSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYXV0aFJlYWR5ICYmIHBlcmlvZCkge1xuICAgICAgZmV0Y2hDYW5kaWRhdGVzKCk7XG4gICAgfVxuICB9LCBbcGVyaW9kLCBhdXRoUmVhZHldKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhdXRoUmVhZHkgJiYgY2FuZGlkYXRlcy5sZW5ndGggPiAwICYmIHBlcmlvZCkge1xuICAgICAgY2hlY2tVc2VyVm90ZSgpO1xuICAgIH1cbiAgfSwgW2NhbmRpZGF0ZXMsIHBlcmlvZCwgYXV0aFJlYWR5XSk7XG5cbiAgaWYgKCFhdXRoUmVhZHkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmICghcGVyaW9kKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBtYXgtdy14bFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdsYXNzLWNhcmQgcHgtOCBweS0xMiB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwXCI+Tm8gVm90aW5nIEN1cnJlbnRseTwvaDI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtNCB0ZXh0LXNsYXRlLTYwMFwiPlxuICAgICAgICAgICAgVGhlcmUgaXMgbm8gYWN0aXZlIHZvdGluZyBzZXNzaW9uIGF0IHRoZSBtb21lbnQuIFBsZWFzZSBjaGVjayBiYWNrIGxhdGVyIGZvciB0aGUgbmV4dCBlbGVjdGlvbiB3aW5kb3cuXG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0xMFwiPlxuICAgICAge21lc3NhZ2UgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdsYXNzLWNhcmQgbXgtYXV0byBtYXgtdy0zeGwgcHgtNiBweS00IHRleHQtY2VudGVyIHRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXJlZC02MDBcIj5cbiAgICAgICAgICB7bWVzc2FnZX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7dm90aW5nTm90U3RhcnRlZCAmJiAhdm90aW5nRW5kZWQgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdsYXNzLWNhcmQgbXgtYXV0byBtYXgtdy0zeGwgcHgtOCBweS0xMCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1zbGF0ZS05MDBcIj5Wb3RpbmcgaGFzIG5vdCBzdGFydGVkIHlldDwvaDI+XG4gICAgICAgICAge3RpbWVMZWZ0ICYmIDxwIGNsYXNzTmFtZT1cIm10LTQgdGV4dC1sZyB0ZXh0LWJsdWUtNjAwXCI+U3RhcnRzIGluOiB7dGltZUxlZnR9PC9wPn1cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC02IHRleHQtc2xhdGUtNjAwXCI+XG4gICAgICAgICAgICBUaGUgdm90aW5nIGJvb3RoIHdpbGwgb3BlbiBhdXRvbWF0aWNhbGx5IHdoZW4gdGhlIGNvdW50ZG93biBlbmRzLiBTdGF5IGNsb3NlIHNvIHlvdSBkbyBub3QgbWlzcyB5b3VyIGNoYW5jZS5cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgeyF2b3RpbmdOb3RTdGFydGVkICYmICF2b3RpbmdFbmRlZCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS04XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnbGFzcy1jYXJkIG14LWF1dG8gbWF4LXctNHhsIHB4LTggcHktMTAgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LWJvbGQgdGV4dC1zbGF0ZS05MDBcIj5Wb3RlIGZvciBZb3VyIENhbmRpZGF0ZTwvaDE+XG4gICAgICAgICAgICB7dGltZUxlZnQgJiYgPHAgY2xhc3NOYW1lPVwibXQtMyB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtYmx1ZS02MDAgdXBwZXJjYXNlIHRyYWNraW5nLVswLjNlbV1cIj5Wb3RpbmcgZW5kcyBpbiB7dGltZUxlZnR9PC9wPn1cbiAgICAgICAgICAgIHthbHJlYWR5Vm90ZWRDYW5kaWRhdGUgJiYgKFxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC00IHRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LWVtZXJhbGQtNjAwXCI+XG4gICAgICAgICAgICAgICAgWW91IGhhdmUgYWxyZWFkeSB2b3RlZCBmb3Ige2FscmVhZHlWb3RlZENhbmRpZGF0ZX0uXG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7IWFscmVhZHlWb3RlZENhbmRpZGF0ZSAmJiAoXG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTQgdGV4dC1zbGF0ZS02MDBcIj5cbiAgICAgICAgICAgICAgICBTZWxlY3QgYSBjYW5kaWRhdGUgYmVsb3cgYW5kIHN1Ym1pdCB5b3VyIGNob2ljZS4gWW91IGNhbiBvbmx5IHZvdGUgb25jZSBwZXIgZWxlY3Rpb24gcGVyaW9kLlxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIGdyaWQgdy1mdWxsIG1heC13LTV4bCBnYXAtNiBzbTpncmlkLWNvbHMtMiBsZzpncmlkLWNvbHMtM1wiPlxuICAgICAgICAgICAge2NhbmRpZGF0ZXMubGVuZ3RoID09PSAwICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnbGFzcy1jYXJkIGNvbC1zcGFuLWZ1bGwgcHgtNiBweS04IHRleHQtY2VudGVyIHRleHQtc2xhdGUtNjAwXCI+XG4gICAgICAgICAgICAgICAgTm8gY2FuZGlkYXRlcyBhdmFpbGFibGUgYXQgdGhlIG1vbWVudC5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAge2NhbmRpZGF0ZXMubWFwKChjYW5kaWRhdGUpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IHNlbGVjdGVkQ2FuZGlkYXRlID09PSBjYW5kaWRhdGUuaWQ7XG4gICAgICAgICAgICAgIGNvbnN0IGlzRGlzYWJsZWQgPSBhbHJlYWR5Vm90ZWRDYW5kaWRhdGUgJiYgIWlzU2VsZWN0ZWQ7XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICBrZXk9e2NhbmRpZGF0ZS5pZH1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbHJlYWR5Vm90ZWRDYW5kaWRhdGUpIHNldFNlbGVjdGVkQ2FuZGlkYXRlKGNhbmRpZGF0ZS5pZCk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzRGlzYWJsZWR9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BnbGFzcy1jYXJkIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGdhcC00IHB4LTYgcHktOCB0ZXh0LWNlbnRlciB0cmFuc2l0aW9uICR7XG4gICAgICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWQgPyBcImJvcmRlci1ibHVlLTQwMCByaW5nLTIgcmluZy1ibHVlLTIwMFwiIDogXCJob3Zlcjpib3JkZXItYmx1ZS0yMDBcIlxuICAgICAgICAgICAgICAgICAgfSAke2lzRGlzYWJsZWQgPyBcIm9wYWNpdHktNjBcIiA6IFwiXCJ9YH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgIHNyYz17YnVpbGRQaG90b1NyYyhjYW5kaWRhdGUucGhvdG9TcmMsIGNhbmRpZGF0ZS5waG90b1VybCl9XG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3I9e2hhbmRsZUltZ0Vycm9yfVxuICAgICAgICAgICAgICAgICAgICBhbHQ9e2NhbmRpZGF0ZS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTI0IHctMjQgcm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIG9iamVjdC1jb3ZlciBzaGFkb3ctc21cIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1zbGF0ZS05MDBcIj57Y2FuZGlkYXRlLm5hbWV9PC9oMj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMSB0ZXh0LXNtIHRleHQtc2xhdGUtNTAwXCI+e2NhbmRpZGF0ZS5sZ2F9PC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHshYWxyZWFkeVZvdGVkQ2FuZGlkYXRlICYmIHNlbGVjdGVkQ2FuZGlkYXRlICYmIGNhbmRpZGF0ZXMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gZmxleCB3LWZ1bGwgbWF4LXctM3hsIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93Q29uZmlybU1vZGFsKHRydWUpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggdy1mdWxsIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMyByb3VuZGVkLWZ1bGwgYmctYmx1ZS02MDAgcHgtNiBweS0zIHRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlIHNoYWRvdy1zbSB0cmFuc2l0aW9uIGhvdmVyOmJnLWJsdWUtNTAwIHNtOnctYXV0b1wiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTdWJtaXQgVm90ZVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7YWxyZWFkeVZvdGVkQ2FuZGlkYXRlICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2xhc3MtY2FyZCBteC1hdXRvIG1heC13LTN4bCBweC02IHB5LTUgdGV4dC1jZW50ZXIgdGV4dC1zbSB0ZXh0LWVtZXJhbGQtNjAwXCI+XG4gICAgICAgICAgICAgIFRoYW5rIHlvdSEgWW91ciB2b3RlIGhhcyBhbHJlYWR5IGJlZW4gcmVjb3JkZWQuXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHt2b3RpbmdFbmRlZCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2xhc3MtY2FyZCBteC1hdXRvIG1heC13LTN4bCBweC04IHB5LTEwIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXNsYXRlLTkwMFwiPlZvdGluZyBoYXMgZW5kZWQ8L2gyPlxuICAgICAgICAgIHshcmVzdWx0c1B1Ymxpc2hlZCAmJiAoXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC00IHRleHQtc2xhdGUtNjAwXCI+UmVzdWx0cyB3aWxsIGJlIHB1Ymxpc2hlZCBzaG9ydGx5LiBTdGF5IHR1bmVkLjwvcD5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtyZXN1bHRzUHVibGlzaGVkICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNiBmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTRcIj5cbiAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICBocmVmPVwiL3Jlc3VsdHNcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQtZnVsbCBiZy1ibHVlLTYwMCBweC02IHB5LTIgdGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtd2hpdGUgc2hhZG93LXNtIHRyYW5zaXRpb24gaG92ZXI6YmctYmx1ZS01MDBcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgVmlldyBDdXJyZW50IFJlc3VsdHNcbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgIGhyZWY9XCIvcGFzdC1yZXN1bHRzXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgcHgtNiBweS0yIHRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTYwMCB0cmFuc2l0aW9uIGhvdmVyOmJvcmRlci1ibHVlLTQwMCBob3Zlcjp0ZXh0LWJsdWUtNjAwXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFZpZXcgUGFzdCBSZXN1bHRzXG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAge3Nob3dWb3RlTW9kYWwgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgei01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1zbGF0ZS05MDAvNjAgYmFja2Ryb3AtYmx1clwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2xhc3MtY2FyZCB3LWZ1bGwgbWF4LXctc20gcHgtNiBweS04IHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtOTAwXCI+Vm90ZSBTdWJtaXR0ZWQ8L2gyPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMyB0ZXh0LXNtIHRleHQtc2xhdGUtNjAwXCI+WW91ciB2b3RlIGhhcyBiZWVuIHJlY29yZGVkIHN1Y2Nlc3NmdWxseSE8L3A+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dWb3RlTW9kYWwoZmFsc2UpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC02IGlubGluZS1mbGV4IHJvdW5kZWQtZnVsbCBiZy1ibHVlLTYwMCBweC01IHB5LTIgdGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtd2hpdGUgc2hhZG93LXNtIHRyYW5zaXRpb24gaG92ZXI6YmctYmx1ZS01MDBcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBPS1xuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAge3Nob3dDb25maXJtTW9kYWwgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgei01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1zbGF0ZS05MDAvNjAgYmFja2Ryb3AtYmx1clwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2xhc3MtY2FyZCB3LWZ1bGwgbWF4LXctc20gcHgtNiBweS04IHRleHQtY2VudGVyIHNwYWNlLXktNFwiPlxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTkwMFwiPkNvbmZpcm0gWW91ciBWb3RlPC9oMj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1zbGF0ZS02MDBcIj5cbiAgICAgICAgICAgICAgQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHN1Ym1pdCB5b3VyIHZvdGUgZm9yIHtcbiAgICAgICAgICAgICAgICBjYW5kaWRhdGVzLmZpbmQoKGMpID0+IGMuaWQgPT09IHNlbGVjdGVkQ2FuZGlkYXRlKT8ubmFtZSB8fCBcInRoaXMgY2FuZGlkYXRlXCJcbiAgICAgICAgICAgICAgfT9cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBnYXAtMyBzbTpmbGV4LXJvdyBzbTpqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd0NvbmZpcm1Nb2RhbChmYWxzZSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBweC00IHB5LTIgdGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtNjAwIHRyYW5zaXRpb24gaG92ZXI6Ym9yZGVyLWJsdWUtNDAwIGhvdmVyOnRleHQtYmx1ZS02MDAgc206dy0zMlwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBDYW5jZWxcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtzdWJtaXRWb3RlfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1N1Ym1pdHRpbmdWb3RlfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCByb3VuZGVkLWZ1bGwgYmctYmx1ZS02MDAgcHgtNCBweS0yIHRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlIHNoYWRvdy1zbSB0cmFuc2l0aW9uIGhvdmVyOmJnLWJsdWUtNTAwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBkaXNhYmxlZDpiZy1ibHVlLTQwMCBzbTp3LTMyXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtpc1N1Ym1pdHRpbmdWb3RlID8gXCJTdWJtaXR0aW5nLi4uXCIgOiBcIlllcywgU3VibWl0XCJ9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJvdXRlciIsImlvIiwicmVzb2x2ZUltYWdlVXJsIiwic2VydmVyVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJwbGFjZWhvbGRlckltYWdlIiwiYnVpbGRQaG90b1NyYyIsInZhbHVlcyIsInJhdyIsInJlc29sdmVkIiwiaGFuZGxlSW1nRXJyb3IiLCJldmVudCIsImN1cnJlbnRUYXJnZXQiLCJvbmVycm9yIiwic3JjIiwiVm90ZSIsInJvdXRlciIsInNvY2tldCIsInNldFNvY2tldCIsInBlcmlvZCIsInNldFBlcmlvZCIsImNhbmRpZGF0ZXMiLCJzZXRDYW5kaWRhdGVzIiwic2VsZWN0ZWRDYW5kaWRhdGUiLCJzZXRTZWxlY3RlZENhbmRpZGF0ZSIsInRpbWVMZWZ0Iiwic2V0VGltZUxlZnQiLCJ2b3RpbmdOb3RTdGFydGVkIiwic2V0Vm90aW5nTm90U3RhcnRlZCIsInZvdGluZ0VuZGVkIiwic2V0Vm90aW5nRW5kZWQiLCJyZXN1bHRzUHVibGlzaGVkIiwic2V0UmVzdWx0c1B1Ymxpc2hlZCIsInNob3dWb3RlTW9kYWwiLCJzZXRTaG93Vm90ZU1vZGFsIiwic2hvd0NvbmZpcm1Nb2RhbCIsInNldFNob3dDb25maXJtTW9kYWwiLCJpc1N1Ym1pdHRpbmdWb3RlIiwic2V0SXNTdWJtaXR0aW5nVm90ZSIsImFscmVhZHlWb3RlZENhbmRpZGF0ZSIsInNldEFscmVhZHlWb3RlZENhbmRpZGF0ZSIsIm1lc3NhZ2UiLCJzZXRNZXNzYWdlIiwidXNlcklkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInRva2VuIiwiYXV0aFJlYWR5Iiwic2V0QXV0aFJlYWR5IiwicmVwbGFjZSIsIm5ld1NvY2tldCIsImNsb3NlIiwib24iLCJmZXRjaFBlcmlvZCIsImZldGNoQ2FuZGlkYXRlcyIsIm9mZiIsInJlcyIsImZldGNoIiwiZGF0YSIsImpzb24iLCJub3ciLCJEYXRlIiwic3RhcnQiLCJzdGFydFRpbWUiLCJlbmQiLCJlbmRUaW1lIiwidG9Cb29sIiwidmFsdWUiLCJmb3JjZWRFbmRlZCIsImNhbGN1bGF0ZVRpbWVMZWZ0IiwiaWQiLCJjaGVja1VzZXJWb3RlIiwidm90ZURhdGEiLCJjYW5kaWRhdGVJZCIsInZvdGVkRm9yIiwiZmluZCIsImMiLCJuYW1lIiwidGFyZ2V0IiwiZGlmZiIsImhvdXJzIiwiTWF0aCIsImZsb29yIiwibWludXRlcyIsInNlY29uZHMiLCJzZXRUaW1lb3V0Iiwic3VibWl0Vm90ZSIsIm1ldGhvZCIsImhlYWRlcnMiLCJBdXRob3JpemF0aW9uIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwYXJzZUludCIsIm9rIiwiY2F0Y2giLCJlcnJvciIsImxlbmd0aCIsImRpdiIsImNsYXNzTmFtZSIsImgyIiwicCIsImgxIiwibWFwIiwiY2FuZGlkYXRlIiwiaXNTZWxlY3RlZCIsImlzRGlzYWJsZWQiLCJidXR0b24iLCJ0eXBlIiwib25DbGljayIsImRpc2FibGVkIiwiaW1nIiwicGhvdG9TcmMiLCJwaG90b1VybCIsIm9uRXJyb3IiLCJhbHQiLCJsZ2EiLCJhIiwiaHJlZiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/vote.js\n");

/***/ }),

/***/ "./utils/resolveImageUrl.js":
/*!**********************************!*\
  !*** ./utils/resolveImageUrl.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"resolveImageUrl\": () => (/* binding */ resolveImageUrl)\n/* harmony export */ });\nconst resolveImageUrl = (value, baseUrl)=>{\n    if (!value) return null;\n    const stringValue = typeof value === \"string\" ? value : String(value);\n    const trimmed = stringValue.trim();\n    if (!trimmed) return null;\n    if (trimmed.startsWith(\"data:\")) return trimmed;\n    if (/^https?:\\/\\//i.test(trimmed)) return trimmed.replace(/\\\\/g, \"/\");\n    const fallbackBase = baseUrl || (typeof process !== \"undefined\" ? \"http://localhost:5050\" : undefined) || ( false ? 0 : undefined) || \"\";\n    try {\n        const url = new URL(trimmed.replace(/\\\\/g, \"/\"), fallbackBase || undefined);\n        return url.href;\n    } catch (error) {\n        if (!trimmed.startsWith(\"/\")) {\n            return `/${trimmed.replace(/^\\.\\//, \"\")}`;\n        }\n        return trimmed;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9yZXNvbHZlSW1hZ2VVcmwuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLE1BQU1BLGtCQUFrQixDQUFDQyxPQUFPQyxVQUFZO0lBQ2pELElBQUksQ0FBQ0QsT0FBTyxPQUFPLElBQUk7SUFDdkIsTUFBTUUsY0FBYyxPQUFPRixVQUFVLFdBQVdBLFFBQVFHLE9BQU9ILE1BQU07SUFDckUsTUFBTUksVUFBVUYsWUFBWUcsSUFBSTtJQUNoQyxJQUFJLENBQUNELFNBQVMsT0FBTyxJQUFJO0lBQ3pCLElBQUlBLFFBQVFFLFVBQVUsQ0FBQyxVQUFVLE9BQU9GO0lBRXhDLElBQUksZ0JBQWdCRyxJQUFJLENBQUNILFVBQVUsT0FBT0EsUUFBUUksT0FBTyxDQUFDLE9BQU87SUFFakUsTUFBTUMsZUFDSlIsV0FDQyxRQUFPUyxZQUFZLGNBQWNBLHVCQUErQixHQUFHRyxTQUFTLEtBQzVFLE9BQWdELEdBQUdDLENBQXNCLEdBQUdELFNBQVMsS0FDdEY7SUFFRixJQUFJO1FBQ0YsTUFBTUksTUFBTSxJQUFJQyxJQUFJZCxRQUFRSSxPQUFPLENBQUMsT0FBTyxNQUFNQyxnQkFBZ0JJO1FBQ2pFLE9BQU9JLElBQUlFLElBQUk7SUFDakIsRUFBRSxPQUFPQyxPQUFPO1FBQ2QsSUFBSSxDQUFDaEIsUUFBUUUsVUFBVSxDQUFDLE1BQU07WUFDNUIsT0FBTyxDQUFDLENBQUMsRUFBRUYsUUFBUUksT0FBTyxDQUFDLFNBQVMsSUFBSSxDQUFDO1FBQzNDLENBQUM7UUFDRCxPQUFPSjtJQUNUO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZvdGluZy1hcHAvLi91dGlscy9yZXNvbHZlSW1hZ2VVcmwuanM/YmU2ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgcmVzb2x2ZUltYWdlVXJsID0gKHZhbHVlLCBiYXNlVXJsKSA9PiB7XG4gIGlmICghdmFsdWUpIHJldHVybiBudWxsO1xuICBjb25zdCBzdHJpbmdWYWx1ZSA9IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlIDogU3RyaW5nKHZhbHVlKTtcbiAgY29uc3QgdHJpbW1lZCA9IHN0cmluZ1ZhbHVlLnRyaW0oKTtcbiAgaWYgKCF0cmltbWVkKSByZXR1cm4gbnVsbDtcbiAgaWYgKHRyaW1tZWQuc3RhcnRzV2l0aChcImRhdGE6XCIpKSByZXR1cm4gdHJpbW1lZDtcblxuICBpZiAoL15odHRwcz86XFwvXFwvL2kudGVzdCh0cmltbWVkKSkgcmV0dXJuIHRyaW1tZWQucmVwbGFjZSgvXFxcXC9nLCBcIi9cIik7XG5cbiAgY29uc3QgZmFsbGJhY2tCYXNlID1cbiAgICBiYXNlVXJsIHx8XG4gICAgKHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiID8gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCA6IHVuZGVmaW5lZCkgfHxcbiAgICAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb24gPyB3aW5kb3cubG9jYXRpb24ub3JpZ2luIDogdW5kZWZpbmVkKSB8fFxuICAgIFwiXCI7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRyaW1tZWQucmVwbGFjZSgvXFxcXC9nLCBcIi9cIiksIGZhbGxiYWNrQmFzZSB8fCB1bmRlZmluZWQpO1xuICAgIHJldHVybiB1cmwuaHJlZjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoIXRyaW1tZWQuc3RhcnRzV2l0aChcIi9cIikpIHtcbiAgICAgIHJldHVybiBgLyR7dHJpbW1lZC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIil9YDtcbiAgICB9XG4gICAgcmV0dXJuIHRyaW1tZWQ7XG4gIH1cbn07XG4iXSwibmFtZXMiOlsicmVzb2x2ZUltYWdlVXJsIiwidmFsdWUiLCJiYXNlVXJsIiwic3RyaW5nVmFsdWUiLCJTdHJpbmciLCJ0cmltbWVkIiwidHJpbSIsInN0YXJ0c1dpdGgiLCJ0ZXN0IiwicmVwbGFjZSIsImZhbGxiYWNrQmFzZSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfVVJMIiwidW5kZWZpbmVkIiwid2luZG93IiwibG9jYXRpb24iLCJvcmlnaW4iLCJ1cmwiLCJVUkwiLCJocmVmIiwiZXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./utils/resolveImageUrl.js\n");

/***/ }),

/***/ "next/router":
/*!******************************!*\
  !*** external "next/router" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("next/router");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

module.exports = require("react");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "socket.io-client":
/*!***********************************!*\
  !*** external "socket.io-client" ***!
  \***********************************/
/***/ ((module) => {

module.exports = import("socket.io-client");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("./pages/vote.js"));
module.exports = __webpack_exports__;

})();